name: Update All Cloud Prices

permissions:
  contents: write
  id-token: write

on:
  workflow_dispatch: {}
  schedule:
    - cron: "30 */6 * * *"  # every 6 hours at minute 30 (UTC)

concurrency:
  group: update-all-cloud-prices
  cancel-in-progress: false

jobs:
  azure:
    uses: ./.github/workflows/update-azure.yml
    secrets: inherit
    timeout-minutes: 30

  aws:
    needs: azure
    uses: ./.github/workflows/update-aws.yml
    secrets: inherit
    timeout-minutes: 30
